<Window x:Class="CSP2.Desktop.Views.ErrorDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="CSP2 - é”™è¯¯" 
        Height="500" 
        Width="700"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}"
        ResizeMode="CanResize">
    <Grid Margin="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- æ ‡é¢˜æ  -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,16">
            <Ellipse Width="48" Height="48" Fill="{StaticResource DangerBrush}" Margin="0,0,16,0"/>
            <StackPanel VerticalAlignment="Center">
                <TextBlock Text="ç¨‹åºå‘ç”Ÿé”™è¯¯" 
                          Style="{StaticResource H2TextBlock}"
                          Foreground="{StaticResource DangerBrush}"/>
                <TextBlock x:Name="SubtitleText"
                          Text="æ“ä½œå·²åœæ­¢" 
                          Style="{StaticResource SecondaryTextBlock}"
                          Margin="0,4,0,0"/>
            </StackPanel>
        </StackPanel>

        <!-- ç®€çŸ­æè¿° -->
        <Border Grid.Row="1" 
                Background="{StaticResource Gray100Brush}" 
                CornerRadius="8" 
                Padding="16"
                Margin="0,0,0,16">
            <StackPanel>
                <TextBlock Text="é”™è¯¯ä¿¡æ¯ï¼š" 
                          FontWeight="SemiBold"
                          Foreground="{StaticResource TextPrimaryBrush}"
                          Margin="0,0,0,8"/>
                <TextBlock x:Name="ErrorMessageText" 
                          TextWrapping="Wrap"
                          Foreground="{StaticResource TextPrimaryBrush}"/>
            </StackPanel>
        </Border>

        <!-- è¯¦ç»†å †æ ˆä¿¡æ¯ -->
        <Border Grid.Row="2" 
                Background="{StaticResource CardBackgroundBrush}" 
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Margin="0,0,0,16">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- è¯¦ç»†ä¿¡æ¯æ ‡é¢˜ -->
                <Border Grid.Row="0" 
                        Background="{StaticResource Gray100Brush}" 
                        Padding="12,8"
                        CornerRadius="8,8,0,0">
                    <TextBlock Text="è¯¦ç»†ä¿¡æ¯ï¼ˆå¯å¤åˆ¶ï¼‰" 
                              FontWeight="SemiBold"
                              Foreground="{StaticResource TextSecondaryBrush}"/>
                </Border>

                <!-- è¯¦ç»†æ–‡æœ¬ -->
                <ScrollViewer Grid.Row="1" 
                             VerticalScrollBarVisibility="Auto"
                             Padding="12">
                    <TextBox x:Name="DetailTextBox"
                            IsReadOnly="True"
                            TextWrapping="Wrap"
                            BorderThickness="0"
                            Background="Transparent"
                            Foreground="{StaticResource TextPrimaryBrush}"
                            FontFamily="Consolas"
                            FontSize="12"
                            VerticalScrollBarVisibility="Auto"/>
                </ScrollViewer>
            </Grid>
        </Border>

        <!-- æŒ‰é’®åŒº -->
        <Grid Grid.Row="3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- æç¤ºæ–‡æœ¬ -->
            <TextBlock Grid.Column="0" 
                      Text="ðŸ’¡ æç¤ºï¼šæ‚¨å¯ä»¥é€‰ä¸­æ–‡æœ¬å¹¶æŒ‰ Ctrl+C å¤åˆ¶"
                      Style="{StaticResource CaptionTextBlock}"
                      VerticalAlignment="Center"/>

            <!-- å¤åˆ¶æŒ‰é’® -->
            <Button Grid.Column="1"
                    Content="å¤åˆ¶å…¨éƒ¨"
                    Click="CopyButton_Click"
                    Style="{StaticResource SecondaryButton}"
                    Width="100"
                    Margin="0,0,12,0"/>

            <!-- å…³é—­æŒ‰é’® -->
            <Button Grid.Column="2"
                    Content="å…³é—­"
                    Click="CloseButton_Click"
                    Style="{StaticResource PrimaryButton}"
                    Width="100"/>
        </Grid>
    </Grid>
</Window>

