# CSP2 æŠ€æœ¯è®¾è®¡æ–‡æ¡£

> Counter-Strike 2 Server Panel - CS2æœåŠ¡å™¨ç®¡ç†é¢æ¿

**ç‰ˆæœ¬**: v0.1.0  
**æ›´æ–°æ—¶é—´**: 2025-10-25  
**ä½œè€…**: CSP2 å¼€å‘å›¢é˜Ÿ

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
3. [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
4. [æ ¸å¿ƒæ¨¡å—è®¾è®¡](#æ ¸å¿ƒæ¨¡å—è®¾è®¡)
5. [æ•°æ®æ¨¡å‹](#æ•°æ®æ¨¡å‹)
6. [Provideræ‰©å±•æœºåˆ¶](#Provideræ‰©å±•æœºåˆ¶)
7. [å®‰å…¨æ€§è€ƒè™‘](#å®‰å…¨æ€§è€ƒè™‘)
8. [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®å®šä½

CSP2 æ˜¯ä¸€ä¸ªé¢å‘ **CS2 æœåŠ¡å™¨ç®¡ç†å‘˜** çš„å¼€æºæ¡Œé¢ç®¡ç†å·¥å…·ï¼Œç±»ä¼¼äºMinecraftçš„PCL2å¯åŠ¨å™¨ã€‚

### 1.2 æ ¸å¿ƒåŠŸèƒ½

- âœ… CS2ä¸“ç”¨æœåŠ¡å™¨çš„å¯åŠ¨ã€åœæ­¢ã€é‡å¯ç®¡ç†
- âœ… å®æ—¶æ—¥å¿—æŸ¥çœ‹å’Œå‘½ä»¤è¡Œäº¤äº’
- âœ… æ’ä»¶æ¡†æ¶ç®¡ç†ï¼ˆMetamodã€CounterStrikeSharpç­‰ï¼‰
- âœ… æ’ä»¶å¸‚åœºï¼ˆæµè§ˆã€å®‰è£…ã€æ›´æ–°ã€å¸è½½æ’ä»¶ï¼‰
- âœ… æœåŠ¡å™¨é…ç½®ç®¡ç†
- âœ… å¤šæœåŠ¡å™¨å®ä¾‹ç®¡ç†
- âœ… ç¤¾åŒºæ‰©å±•æ”¯æŒï¼ˆProvideræœºåˆ¶ï¼‰

### 1.3 è®¾è®¡åŸåˆ™

1. **æ¨¡å—åŒ–**: ä½¿ç”¨Provideræ¨¡å¼ï¼Œå¹³å°ã€æ¡†æ¶ã€æ‰©å±•å®Œå…¨è§£è€¦
2. **å¯æ‰©å±•æ€§**: ç¤¾åŒºå¯ä»¥è½»æ¾æ·»åŠ æ–°å¹³å°ã€æ–°æ¡†æ¶æ”¯æŒ
3. **ç”¨æˆ·å‹å¥½**: ç®€æ´ç¾è§‚çš„UIï¼Œç±»ä¼¼PCL2çš„ä½¿ç”¨ä½“éªŒ
4. **å¼€æºé€æ˜**: MITåè®®ï¼Œæ¬¢è¿ç¤¾åŒºè´¡çŒ®

### 1.4 ç›®æ ‡ç”¨æˆ·

- CS2æœåŠ¡å™¨ç®¡ç†å‘˜
- ç¤¾åŒºæœåŠ¡å™¨è¿è¥è€…
- æ’ä»¶å¼€å‘è€…
- æ¸¸æˆç¤¾åŒº

---

## 2. æŠ€æœ¯æ ˆ

### 2.1 å¼€å‘ç¯å¢ƒ

```
æ“ä½œç³»ç»Ÿ: Windows 10/11 (MVP), Linux (V2)
å¼€å‘å·¥å…·: Visual Studio 2022
.NETç‰ˆæœ¬: .NET 8.0
è¯­è¨€ç‰ˆæœ¬: C# 12
```

### 2.2 æ¡†æ¶å’Œåº“

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| WPF | .NET 8.0 | UIæ¡†æ¶ï¼ˆMVPé˜¶æ®µï¼‰ |
| Avalonia UI | 11.x | è·¨å¹³å°UIï¼ˆV2è¿ç§»ï¼‰ |
| CommunityToolkit.Mvvm | 8.x | MVVMè¾…åŠ©åº“ |
| Microsoft.Extensions.* | 8.x | ä¾èµ–æ³¨å…¥ã€é…ç½®ã€æ—¥å¿— |
| Serilog | 3.x | æ—¥å¿—æ¡†æ¶ |
| System.Text.Json | 8.x | JSONåºåˆ—åŒ– |
| System.IO.Compression | 8.x | ZIPè§£å‹ |
| HttpClient + Polly | 8.x + 8.x | HTTPè¯·æ±‚å’Œé‡è¯•ç­–ç•¥ |

### 2.3 å·¥å…·é“¾

- **SteamCMD**: ä¸‹è½½å’Œæ›´æ–°CS2æœåŠ¡å™¨æ–‡ä»¶
- **GitHub API**: è·å–æ’ä»¶Releaseä¿¡æ¯
- **GitHub Actions**: CI/CDè‡ªåŠ¨åŒ–æ„å»º

---

## 3. ç³»ç»Ÿæ¶æ„

### 3.1 æ€»ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Presentation Layer                     â”‚
â”‚                    (WPF / Avalonia UI)                      â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Server   â”‚  â”‚ Plugin   â”‚  â”‚ Log      â”‚  â”‚ Settings â”‚  â”‚
â”‚  â”‚ View     â”‚  â”‚ Market   â”‚  â”‚ Console  â”‚  â”‚ View     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ MVVM Binding
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Application Layer                      â”‚
â”‚                    (ViewModels + Commands)                  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ServerVM     â”‚  â”‚ PluginMarket â”‚  â”‚ SettingsVM   â”‚    â”‚
â”‚  â”‚              â”‚  â”‚ VM           â”‚  â”‚              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ Service Layer
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Business Layer                       â”‚
â”‚                     (Core Services)                         â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Server       â”‚  â”‚ Plugin       â”‚  â”‚ Provider     â”‚    â”‚
â”‚  â”‚ Manager      â”‚  â”‚ Manager      â”‚  â”‚ Registry     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ SteamCMD     â”‚  â”‚ Repository   â”‚  â”‚ Config       â”‚    â”‚
â”‚  â”‚ Service      â”‚  â”‚ Service      â”‚  â”‚ Manager      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ Provider Interface
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Provider Layer                         â”‚
â”‚                   (Platform & Framework)                    â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Windows      â”‚  â”‚ Linux        â”‚  â”‚ Docker       â”‚    â”‚
â”‚  â”‚ Provider     â”‚  â”‚ Provider     â”‚  â”‚ Provider     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ CSS          â”‚  â”‚ Metamod      â”‚  â”‚ Swiftly      â”‚    â”‚
â”‚  â”‚ Provider     â”‚  â”‚ Provider     â”‚  â”‚ Provider     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 åˆ†å±‚èŒè´£

#### **Presentation Layer (è¡¨ç¤ºå±‚)**
- è´Ÿè´£UIæ¸²æŸ“å’Œç”¨æˆ·äº¤äº’
- ä½¿ç”¨MVVMæ¨¡å¼ï¼ŒViewå’ŒViewModelåˆ†ç¦»
- ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘

#### **Application Layer (åº”ç”¨å±‚)**
- ViewModelå¤„ç†UIé€»è¾‘
- å‘½ä»¤ç»‘å®šå’Œæ•°æ®ç»‘å®š
- è°ƒç”¨Business Layerçš„æœåŠ¡

#### **Business Layer (ä¸šåŠ¡å±‚)**
- æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
- æœåŠ¡å™¨ç®¡ç†ã€æ’ä»¶ç®¡ç†ç­‰
- ä¸ä¾èµ–å…·ä½“çš„UIæ¡†æ¶

#### **Provider Layer (æä¾›è€…å±‚)**
- æŠ½è±¡å¹³å°å’Œæ¡†æ¶å·®å¼‚
- å¯æ’æ‹”çš„Providerå®ç°
- ç¤¾åŒºå¯æ‰©å±•

---

## 4. æ ¸å¿ƒæ¨¡å—è®¾è®¡

### 4.1 æ¨¡å—åˆ’åˆ†

#### **CSP2.Core (æ ¸å¿ƒåº“)**
- å®šä¹‰æ‰€æœ‰æŠ½è±¡æ¥å£
- æ•°æ®æ¨¡å‹
- æ ¸å¿ƒæœåŠ¡å®ç°
- Provideræ³¨å†Œæœºåˆ¶

#### **CSP2.Providers (æä¾›è€…å®ç°)**
- Windowså¹³å°æ”¯æŒ
- CounterStrikeSharpæ¡†æ¶æ”¯æŒ
- Metamodæ¡†æ¶æ”¯æŒ
- ï¼ˆæœªæ¥ï¼šLinuxã€Swiftlyç­‰ï¼‰

#### **CSP2.Desktop (æ¡Œé¢åº”ç”¨)**
- WPFç•Œé¢
- ViewModels
- åº”ç”¨ç¨‹åºå…¥å£
- èµ„æºæ–‡ä»¶

#### **CSP2.SDK (æ‰©å±•SDK)**
- ä¾›ç¤¾åŒºå¼€å‘æ‰©å±•çš„SDK
- æ’ä»¶æ¥å£å®šä¹‰
- ç¤ºä¾‹ä»£ç 

---

### 4.2 ServerManager (æœåŠ¡å™¨ç®¡ç†å™¨)

**èŒè´£**: ç®¡ç†CS2æœåŠ¡å™¨çš„ç”Ÿå‘½å‘¨æœŸ

```csharp
public interface IServerManager
{
    // è·å–æ‰€æœ‰æœåŠ¡å™¨
    Task<List<Server>> GetServersAsync();
    
    // æ·»åŠ æœåŠ¡å™¨
    Task<Server> AddServerAsync(ServerConfig config);
    
    // å¯åŠ¨æœåŠ¡å™¨
    Task<ServerProcess> StartServerAsync(string serverId);
    
    // åœæ­¢æœåŠ¡å™¨
    Task StopServerAsync(string serverId, bool force = false);
    
    // é‡å¯æœåŠ¡å™¨
    Task RestartServerAsync(string serverId);
    
    // å‘é€å‘½ä»¤
    Task SendCommandAsync(string serverId, string command);
    
    // äº‹ä»¶ï¼šæ—¥å¿—è¾“å‡º
    event EventHandler<LogReceivedEventArgs> LogReceived;
    
    // äº‹ä»¶ï¼šæœåŠ¡å™¨çŠ¶æ€å˜åŒ–
    event EventHandler<ServerStatusChangedEventArgs> StatusChanged;
}
```

**å®ç°è¦ç‚¹**:
- ä½¿ç”¨`IPlatformProvider`å¯åŠ¨è¿›ç¨‹
- å¼‚æ­¥è¯»å–æ ‡å‡†è¾“å‡ºä½œä¸ºæ—¥å¿—
- æ”¯æŒæ ‡å‡†è¾“å…¥å‘é€å‘½ä»¤
- çŠ¶æ€ç®¡ç†ï¼šåœæ­¢ã€å¯åŠ¨ä¸­ã€è¿è¡Œä¸­ã€åœæ­¢ä¸­ã€å´©æºƒ

---

### 4.3 PluginManager (æ’ä»¶ç®¡ç†å™¨)

**èŒè´£**: ç®¡ç†æ’ä»¶çš„å®‰è£…ã€æ›´æ–°ã€å¸è½½

```csharp
public interface IPluginManager
{
    // è·å–å¯ç”¨æ’ä»¶åˆ—è¡¨ï¼ˆä»ä»“åº“ï¼‰
    Task<List<PluginInfo>> GetAvailablePluginsAsync();
    
    // è·å–å·²å®‰è£…æ’ä»¶
    Task<List<InstalledPlugin>> GetInstalledPluginsAsync(string serverId);
    
    // å®‰è£…æ’ä»¶
    Task<InstallResult> InstallPluginAsync(string serverId, string pluginId, 
        IProgress<InstallProgress>? progress = null);
    
    // æ›´æ–°æ’ä»¶
    Task<InstallResult> UpdatePluginAsync(string serverId, string pluginId);
    
    // å¸è½½æ’ä»¶
    Task<bool> UninstallPluginAsync(string serverId, string pluginId);
    
    // å¯ç”¨/ç¦ç”¨æ’ä»¶
    Task<bool> SetPluginEnabledAsync(string serverId, string pluginId, bool enabled);
}
```

**å®ç°è¦ç‚¹**:
- å§”æ‰˜ç»™å¯¹åº”çš„`IFrameworkProvider`æ‰§è¡Œ
- å¤„ç†ä¾èµ–å…³ç³»ï¼ˆå¦‚CSSä¾èµ–Metamodï¼‰
- æ”¯æŒè¿›åº¦æŠ¥å‘Š
- é”™è¯¯å¤„ç†å’Œå›æ»š

---

### 4.4 ProviderRegistry (æä¾›è€…æ³¨å†Œä¸­å¿ƒ)

**èŒè´£**: ç®¡ç†æ‰€æœ‰Providerçš„æ³¨å†Œå’Œè·å–

```csharp
public class ProviderRegistry
{
    // æ³¨å†Œå¹³å°æä¾›è€…
    void RegisterPlatformProvider(IPlatformProvider provider);
    
    // æ³¨å†Œæ¡†æ¶æä¾›è€…
    void RegisterFrameworkProvider(IFrameworkProvider provider);
    
    // è‡ªåŠ¨é€‰æ‹©æœ€ä½³å¹³å°Provider
    IPlatformProvider GetBestPlatformProvider();
    
    // è·å–æŒ‡å®šæ¡†æ¶Provider
    IFrameworkProvider? GetFrameworkProvider(string frameworkId);
    
    // åˆ—å‡ºæ‰€æœ‰å¯ç”¨æ¡†æ¶
    List<FrameworkInfo> GetAvailableFrameworks();
    
    // ä»ç›®å½•åŠ è½½Providerï¼ˆè¿è¡Œæ—¶æ’ä»¶ï¼‰
    Task LoadProvidersFromDirectoryAsync(string directory);
}
```

---

### 4.5 SteamCmdService (SteamCMDæœåŠ¡)

**èŒè´£**: ä¸‹è½½å’Œæ›´æ–°CS2æœåŠ¡å™¨æ–‡ä»¶

```csharp
public interface ISteamCmdService
{
    // æ£€æŸ¥SteamCMDæ˜¯å¦å·²å®‰è£…
    Task<bool> IsSteamCmdInstalledAsync();
    
    // ä¸‹è½½SteamCMDï¼ˆå¦‚æœéœ€è¦ï¼‰
    Task<bool> DownloadSteamCmdAsync(IProgress<DownloadProgress>? progress = null);
    
    // å®‰è£…/æ›´æ–°CS2æœåŠ¡å™¨
    Task<bool> InstallOrUpdateServerAsync(string installPath, 
        IProgress<InstallProgress>? progress = null);
    
    // éªŒè¯æœåŠ¡å™¨æ–‡ä»¶å®Œæ•´æ€§
    Task<bool> ValidateServerFilesAsync(string installPath);
}
```

**å®ç°è¦ç‚¹**:
- ç”¨æˆ·å¯ä»¥é€‰æ‹©ï¼š
  - ä½¿ç”¨å·²æœ‰çš„CS2å®‰è£…ï¼ˆæ¸¸æˆæœ¬èº«å°±èƒ½å½“æœåŠ¡å™¨ï¼‰
  - é€šè¿‡SteamCMDä¸‹è½½ä¸“ç”¨æœåŠ¡å™¨
- æ”¯æŒæ–­ç‚¹ç»­ä¼ 
- è¿›åº¦å›è°ƒ

---

### 4.6 PluginRepositoryService (æ’ä»¶ä»“åº“æœåŠ¡)

**èŒè´£**: ä»GitHubä»“åº“è·å–æ’ä»¶åˆ—è¡¨

```csharp
public interface IPluginRepositoryService
{
    // è·å–æ’ä»¶æ¸…å•ï¼ˆå¸¦ç¼“å­˜ï¼‰
    Task<PluginManifest> GetManifestAsync(bool forceRefresh = false);
    
    // æœç´¢æ’ä»¶
    Task<List<PluginInfo>> SearchPluginsAsync(string keyword);
    
    // æŒ‰åˆ†ç±»è¿‡æ»¤
    Task<List<PluginInfo>> GetPluginsByCategoryAsync(string category);
    
    // è·å–æ’ä»¶è¯¦æƒ…
    Task<PluginInfo?> GetPluginDetailsAsync(string pluginId);
    
    // æ£€æŸ¥æ’ä»¶æ›´æ–°
    Task<Dictionary<string, string>> CheckUpdatesAsync(List<InstalledPlugin> installed);
}
```

**æ•°æ®æ¥æº**:
- ç¬¬ä¸€é˜¶æ®µï¼šæœ¬åœ°JSONæ–‡ä»¶ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰
- V2é˜¶æ®µï¼šä»GitHubä»“åº“è¯»å–manifest.json
- ç¼“å­˜æœºåˆ¶ï¼Œé¿å…é¢‘ç¹è¯·æ±‚

---

## 5. æ•°æ®æ¨¡å‹

### 5.1 Server (æœåŠ¡å™¨å®ä½“)

```csharp
public class Server
{
    public string Id { get; set; }              // å”¯ä¸€æ ‡è¯†ï¼ˆGUIDï¼‰
    public string Name { get; set; }            // æœåŠ¡å™¨åç§°
    public string InstallPath { get; set; }     // å®‰è£…è·¯å¾„
    public ServerStatus Status { get; set; }    // å½“å‰çŠ¶æ€
    public ServerConfig Config { get; set; }    // é…ç½®ä¿¡æ¯
    public DateTime CreatedAt { get; set; }
    public DateTime? LastStartedAt { get; set; }
}

public enum ServerStatus
{
    Stopped,        // å·²åœæ­¢
    Starting,       // å¯åŠ¨ä¸­
    Running,        // è¿è¡Œä¸­
    Stopping,       // åœæ­¢ä¸­
    Crashed         // å´©æºƒ
}

public class ServerConfig
{
    // åŸºç¡€é…ç½®
    public string IpAddress { get; set; } = "0.0.0.0";
    public int Port { get; set; } = 27015;
    public string Map { get; set; } = "de_dust2";
    public string MapGroup { get; set; } = "mg_active";
    public int MaxPlayers { get; set; } = 10;
    public int GameType { get; set; } = 0;
    public int GameMode { get; set; } = 1;
    public int TickRate { get; set; } = 128;
    
    // æœåŠ¡å™¨èº«ä»½
    public string? ServerName { get; set; }
    public string? ServerPassword { get; set; }
    public string? RconPassword { get; set; }
    public string? SteamToken { get; set; }
    
    // ç½‘ç»œè®¾ç½®
    public bool IsLanMode { get; set; } = false;
    public bool InsecureMode { get; set; } = false;
    
    // æ€§èƒ½ä¼˜åŒ–
    public bool EnableConsole { get; set; } = true;
    public string ProcessPriority { get; set; } = "normal";
    public int? MaxFps { get; set; }
    public int? ThreadCount { get; set; }
    public bool DisableHltv { get; set; } = false;
    
    // æ¸¸æˆè§„åˆ™
    public bool EnableCheats { get; set; } = false;
    public int BotQuota { get; set; } = 0;
    public int BotDifficulty { get; set; } = 2;
    public int? KickIdleTime { get; set; }
    
    // æ—¥å¿—è®¾ç½®
    public bool EnableLogging { get; set; } = true;
    public bool ConsoleLogToFile { get; set; } = false;
    public bool LogEcho { get; set; } = true;
    
    // è‡ªå®šä¹‰å‚æ•°
    public Dictionary<string, string> CustomArgs { get; set; } = new();
}
```

---

### 5.2 Plugin (æ’ä»¶ä¿¡æ¯)

```csharp
public class PluginInfo
{
    public string Id { get; set; }              // å”¯ä¸€æ ‡è¯†ï¼ˆå°å†™ï¼‰
    public string Name { get; set; }            // æ˜¾ç¤ºåç§°
    public string Author { get; set; }
    public string Description { get; set; }
    public string? DescriptionZh { get; set; }  // ä¸­æ–‡æè¿°
    
    public string Framework { get; set; }       // counterstrikesharp, metamod, etc.
    public string[] Dependencies { get; set; } = [];
    public string Category { get; set; }        // gameplay, admin, utility, etc.
    public string[] Tags { get; set; } = [];
    
    public string Version { get; set; }
    public string DownloadUrl { get; set; }
    public long DownloadSize { get; set; }
    
    public SourceInfo Source { get; set; }
    public InstallationInfo Installation { get; set; }
    public LinksInfo Links { get; set; }
    
    public bool Verified { get; set; }          // æ˜¯å¦éªŒè¯è¿‡
    public bool Featured { get; set; }          // æ˜¯å¦æ¨è
    public int Downloads { get; set; }          // ä¸‹è½½æ¬¡æ•°
    public float Rating { get; set; }           // è¯„åˆ†
}

public class InstalledPlugin
{
    public string Id { get; set; }
    public string Name { get; set; }
    public string Version { get; set; }
    public string Framework { get; set; }
    public bool Enabled { get; set; }
    public string InstallPath { get; set; }
    public DateTime InstalledAt { get; set; }
}
```

---

### 5.3 FrameworkInfo (æ¡†æ¶ä¿¡æ¯)

```csharp
public class FrameworkInfo
{
    public string Id { get; set; }              // counterstrikesharp, metamod
    public string Name { get; set; }            // CounterStrikeSharp
    public string ShortName { get; set; }       // CSS
    public string Description { get; set; }
    
    public string[] Dependencies { get; set; } = [];
    
    public string InstallPath { get; set; }     // ç›¸å¯¹äºæœåŠ¡å™¨æ ¹ç›®å½•
    public string PluginPath { get; set; }
    public string ConfigPath { get; set; }
    
    public string[] SupportedPlatforms { get; set; } = [];
    
    public string RepositoryUrl { get; set; }
    public string DocumentationUrl { get; set; }
    
    public string? InstalledVersion { get; set; }
    public string? LatestVersion { get; set; }
}
```

---

## 6. Provideræ‰©å±•æœºåˆ¶

### 6.1 è®¾è®¡æ€æƒ³

ä½¿ç”¨**ç­–ç•¥æ¨¡å¼ + æä¾›è€…æ¨¡å¼**ï¼Œå°†ä¸åŒå¹³å°ã€ä¸åŒæ¡†æ¶çš„å®ç°è§£è€¦ã€‚

**æ ¸å¿ƒæ¥å£**:
- `IPlatformProvider`: æŠ½è±¡æ“ä½œç³»ç»Ÿå·®å¼‚ï¼ˆWindowsã€Linuxï¼‰
- `IFrameworkProvider`: æŠ½è±¡æ’ä»¶æ¡†æ¶å·®å¼‚ï¼ˆCSSã€Metamodã€Swiftlyï¼‰
- `IExtensionProvider`: æŠ½è±¡é¢æ¿æ‰©å±•åŠŸèƒ½ï¼ˆRCONã€å¤‡ä»½ã€ç›‘æ§ï¼‰

### 6.2 Providerç”Ÿå‘½å‘¨æœŸ

```
1. å¯åŠ¨é˜¶æ®µï¼š
   - æ‰«æproviders/ç›®å½•
   - åŠ è½½æ‰€æœ‰Provider DLL
   - æ³¨å†Œåˆ°ProviderRegistry

2. ä½¿ç”¨é˜¶æ®µï¼š
   - æ ¹æ®éœ€æ±‚è·å–å¯¹åº”Provider
   - è°ƒç”¨Provideræ–¹æ³•æ‰§è¡Œæ“ä½œ

3. æ‰©å±•é˜¶æ®µï¼š
   - ç”¨æˆ·ä¸‹è½½ç¬¬ä¸‰æ–¹Provider
   - æ”¾å…¥providers/ç›®å½•
   - é‡å¯åº”ç”¨è‡ªåŠ¨åŠ è½½
```

### 6.3 Providerå¼€å‘æŒ‡å—

ç¤¾åŒºå¼€å‘è€…åªéœ€ï¼š
1. å¼•ç”¨`CSP2.Core`ï¼ˆæ¥å£å®šä¹‰ï¼‰
2. å®ç°å¯¹åº”æ¥å£
3. æ·»åŠ å…ƒæ•°æ®ç‰¹æ€§
4. ç¼–è¯‘æˆDLL
5. åˆ†äº«ç»™ç”¨æˆ·

**ç¤ºä¾‹**:
```csharp
// ç¤¾åŒºå¼€å‘è€…å®ç°Linuxæ”¯æŒ
public class LinuxPlatformProvider : IPlatformProvider
{
    public ProviderMetadata Metadata => new()
    {
        Id = "linux",
        Name = "Linux",
        Version = "1.0.0",
        Author = "Community Developer",
        Description = "Linuxå¹³å°æ”¯æŒ"
    };
    
    public bool IsSupported()
    {
        return RuntimeInformation.IsOSPlatform(OSPlatform.Linux);
    }
    
    // ... å®ç°å…¶ä»–æ–¹æ³•
}
```

---

## 7. å®‰å…¨æ€§è€ƒè™‘

### 7.1 æ½œåœ¨é£é™©

1. **ä»»æ„ä»£ç æ‰§è¡Œ**: è¿è¡Œæ—¶åŠ è½½ç¬¬ä¸‰æ–¹Provider DLL
2. **è·¯å¾„éå†**: ç”¨æˆ·è¾“å…¥çš„å®‰è£…è·¯å¾„
3. **å‘½ä»¤æ³¨å…¥**: æ„é€ æœåŠ¡å™¨å¯åŠ¨å‚æ•°
4. **æ•æ„Ÿä¿¡æ¯æ³„éœ²**: Steam Tokenç­‰

### 7.2 ç¼“è§£æªæ–½

1. **Providerç­¾åéªŒè¯**ï¼ˆV2ï¼‰: åªåŠ è½½ç­¾åçš„DLL
2. **è·¯å¾„éªŒè¯**: æ£€æŸ¥è·¯å¾„æ˜¯å¦åŒ…å«å±é™©å­—ç¬¦
3. **å‚æ•°è½¬ä¹‰**: ä½¿ç”¨`ProcessStartInfo`çš„å‚æ•°æ•°ç»„è€Œéå­—ç¬¦ä¸²
4. **é…ç½®åŠ å¯†**: æ•æ„Ÿé…ç½®ä½¿ç”¨DPAPIåŠ å¯†å­˜å‚¨
5. **æƒé™æœ€å°åŒ–**: ä¸è¦æ±‚ç®¡ç†å‘˜æƒé™

---

## 8. æ€§èƒ½ä¼˜åŒ–

### 8.1 å¼‚æ­¥æ“ä½œ

æ‰€æœ‰è€—æ—¶æ“ä½œä½¿ç”¨`async/await`:
- æ–‡ä»¶ä¸‹è½½
- è¿›ç¨‹å¯åŠ¨/åœæ­¢
- æ—¥å¿—è¯»å–
- ç½‘ç»œè¯·æ±‚

### 8.2 ç¼“å­˜ç­–ç•¥

- **æ’ä»¶åˆ—è¡¨**: æœ¬åœ°ç¼“å­˜1å°æ—¶ï¼Œè¿‡æœŸåé‡æ–°æ‹‰å–
- **æ¡†æ¶ç‰ˆæœ¬**: ç¼“å­˜æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯
- **æœåŠ¡å™¨é…ç½®**: å†…å­˜ç¼“å­˜ï¼Œå˜æ›´æ—¶æŒä¹…åŒ–

### 8.3 UIå“åº”æ€§

- é•¿æ—¶é—´æ“ä½œæ˜¾ç¤ºè¿›åº¦æ¡
- ä½¿ç”¨`IProgress<T>`æŠ¥å‘Šè¿›åº¦
- æ—¥å¿—æ˜¾ç¤ºä½¿ç”¨è™šæ‹ŸåŒ–åˆ—è¡¨ï¼ˆè¶…è¿‡1000è¡Œæ—¶ï¼‰
- ä½¿ç”¨`Dispatcher`/`SynchronizationContext`æ›´æ–°UI

### 8.4 UIçº¿ç¨‹ç®¡ç†ï¼ˆé‡è¦ï¼‰

**å·²çŸ¥é—®é¢˜ä¿®å¤ - UIå¡æ­»é—®é¢˜**:

åœ¨WPFåº”ç”¨ä¸­ï¼Œæ‰€æœ‰UIæ›´æ–°å¿…é¡»åœ¨UIçº¿ç¨‹æ‰§è¡Œï¼Œä½†é•¿æ—¶é—´æ“ä½œä¼šå¯¼è‡´ç•Œé¢å¡æ­»ã€‚ä»¥ä¸‹æ˜¯å…³é”®æœ€ä½³å®è·µï¼š

1. **åŒæ­¥é˜»å¡æ“ä½œå¿…é¡»å¼‚æ­¥åŒ–**
   ```csharp
   // âŒ é”™è¯¯: åŒæ­¥æ“ä½œé˜»å¡UIçº¿ç¨‹
   ZipFile.ExtractToDirectory(zipPath, installPath);
   
   // âœ… æ­£ç¡®: åœ¨åå°çº¿ç¨‹æ‰§è¡Œ
   await Task.Run(() => ZipFile.ExtractToDirectory(zipPath, installPath));
   ```

2. **Progresså›è°ƒä½¿ç”¨BeginInvokeè€Œä¸æ˜¯Invoke**
   ```csharp
   // âŒ é”™è¯¯: Invokeä¼šé˜»å¡åå°çº¿ç¨‹
   Dispatcher.Invoke(() => { Progress = value; });
   
   // âœ… æ­£ç¡®: BeginInvokeæ˜¯å¼‚æ­¥çš„
   Dispatcher.BeginInvoke(() => { Progress = value; });
   ```

3. **MessageBoxåœ¨å¼‚æ­¥æ–¹æ³•ä¸­çš„æ­£ç¡®ä½¿ç”¨**
   ```csharp
   // âœ… æ­£ç¡®: é€šè¿‡Dispatcherå¼‚æ­¥è°ƒç”¨
   var result = await Dispatcher.InvokeAsync(() => 
       MessageBox.Show("æç¤º", "æ ‡é¢˜", MessageBoxButton.YesNo));
   ```

4. **é¿å…åœ¨åŒæ­¥æ–¹æ³•ä¸­ç­‰å¾…å¼‚æ­¥æ“ä½œ**
   ```csharp
   // âŒ é”™è¯¯: å®¹æ˜“å¯¼è‡´æ­»é”
   var result = asyncMethod().GetAwaiter().GetResult();
   
   // âœ… æ­£ç¡®: åœ¨æ–°ä»»åŠ¡ä¸Šä¸‹æ–‡æ‰§è¡Œ
   var task = Task.Run(async () => await asyncMethod());
   var result = task.GetAwaiter().GetResult();
   ```

### 8.5 å¼‚å¸¸å¤„ç†å’Œé”™è¯¯æŠ¥å‘Šç³»ç»Ÿ

**æ”¹è¿›çš„é”™è¯¯å¤„ç†æœºåˆ¶**ï¼ˆ2025-10-26æ›´æ–°ï¼‰:

CSP2å®ç°äº†å®Œå–„çš„ä¸‰å±‚å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿ç”¨æˆ·ä½“éªŒå’Œé”™è¯¯è¯Šæ–­ï¼š

1. **å…¨å±€å¼‚å¸¸æ•è·**
   - `AppDomain.UnhandledException`: æ•è·åº”ç”¨ç¨‹åºåŸŸçº§åˆ«çš„æœªå¤„ç†å¼‚å¸¸
   - `DispatcherUnhandledException`: æ•è·UIçº¿ç¨‹çš„æœªå¤„ç†å¼‚å¸¸
   - `TaskScheduler.UnobservedTaskException`: æ•è·å¼‚æ­¥ä»»åŠ¡ä¸­æœªè§‚å¯Ÿåˆ°çš„å¼‚å¸¸

2. **ErrorDialog - å‹å¥½çš„é”™è¯¯å¯¹è¯æ¡†**
   ```csharp
   // ä½¿ç”¨æ–¹æ³•
   ErrorDialog.Show(
       errorMessage: "ç®€çŸ­çš„é”™è¯¯æè¿°",
       exception: ex,
       subtitle: "æ“ä½œå·²åœæ­¢"
   );
   ```
   
   **ç‰¹æ€§**ï¼š
   - æ˜¾ç¤ºç®€çŸ­é”™è¯¯æ¶ˆæ¯å’Œè¯¦ç»†å †æ ˆä¿¡æ¯
   - æ”¯æŒæ–‡æœ¬é€‰æ‹©å’Œå¤åˆ¶ï¼ˆCtrl+Cï¼‰
   - "å¤åˆ¶å…¨éƒ¨"æŒ‰é’®ä¸€é”®å¤åˆ¶å®Œæ•´é”™è¯¯æŠ¥å‘Š
   - åŒ…å«ç¯å¢ƒä¿¡æ¯ï¼ˆæ“ä½œç³»ç»Ÿã€.NETç‰ˆæœ¬ç­‰ï¼‰
   - **ä¸ä¼šç«‹å³é€€å‡ºç¨‹åº**ï¼Œå…è®¸ç”¨æˆ·å¤åˆ¶é”™è¯¯ä¿¡æ¯åå†³å®šæ“ä½œ

3. **å¼‚å¸¸å¤„ç†ç­–ç•¥**
   - **UIçº¿ç¨‹å¼‚å¸¸**: æ˜¾ç¤ºErrorDialogï¼Œæ ‡è®°`e.Handled = true`ï¼Œç¨‹åºç»§ç»­è¿è¡Œ
   - **åå°ä»»åŠ¡å¼‚å¸¸**: è°ƒç”¨`e.SetObserved()`ï¼Œæ˜¾ç¤ºErrorDialog
   - **åŸŸçº§å¼‚å¸¸**: æ˜¾ç¤ºErrorDialogåè®°å½•æ—¥å¿—
   - æ‰€æœ‰å¼‚å¸¸éƒ½ä¼šåŒæ—¶è®°å½•åˆ°Serilogæ—¥å¿—ç³»ç»Ÿå’ŒDebugLogger

4. **é”™è¯¯åœæ­¢æœºåˆ¶**
   - å¼‚å¸¸å‘ç”Ÿæ—¶ç«‹å³åœæ­¢å½“å‰æ“ä½œï¼ˆè®¾ç½®Handled/SetObservedï¼‰
   - é˜²æ­¢è¿é”é”™è¯¯ï¼ˆå¦‚XAMLè§£æé”™è¯¯ä¸ä¼šç–¯ç‹‚é‡å¤ï¼‰
   - ä¿æŒåº”ç”¨ç¨‹åºç¨³å®šï¼Œç»™ç”¨æˆ·é€‰æ‹©æƒ

**ç¤ºä¾‹ï¼šå¤„ç†ä¸‹è½½é”™è¯¯**
```csharp
try
{
    await _downloadManager.DownloadAsync(url, path, progress);
}
catch (Exception ex)
{
    Log.Error(ex, "ä¸‹è½½å¤±è´¥");
    DebugLogger.Error("Download", "ä¸‹è½½æ–‡ä»¶å¤±è´¥", ex);
    
    // æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯å¯¹è¯æ¡†
    ErrorDialog.Show(
        errorMessage: $"ä¸‹è½½å¤±è´¥ï¼š{ex.Message}",
        exception: ex,
        subtitle: "ä¸‹è½½æ“ä½œå·²åœæ­¢"
    );
    
    // æ¸…ç†éƒ¨åˆ†ä¸‹è½½çš„æ–‡ä»¶
    CleanupPartialDownload(path);
}
```

---

## 9. è°ƒè¯•å’Œæ—¥å¿—ç³»ç»Ÿ

### 9.1 Debugæ¨¡å¼

CSP2æ”¯æŒDebugæ¨¡å¼ï¼Œæä¾›æ›´è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯ï¼š

**å¯ç”¨æ–¹å¼**:
1. **å‘½ä»¤è¡Œå‚æ•°**: `CSP2.Desktop.exe --debug`
2. **ç¯å¢ƒå˜é‡**: è®¾ç½® `CSP2_DEBUG=true`
3. **VS Code**: ä½¿ç”¨ "CSP2 Desktop (Debug Mode)" å¯åŠ¨é…ç½®

**Debugæ¨¡å¼ç‰¹æ€§**:
- è‡ªåŠ¨å¯ç”¨Debugçº§åˆ«æ—¥å¿—è®°å½•
- ä¾§æ æ˜¾ç¤º"Debugæ§åˆ¶å°"èœå•é¡¹
- å®æ—¶æŸ¥çœ‹åº”ç”¨ç¨‹åºçº§åˆ«çš„è°ƒè¯•æ—¥å¿—
- ç‹¬ç«‹äºæœåŠ¡å™¨æ—¥å¿—çš„åº”ç”¨æ—¥å¿—ç³»ç»Ÿ

### 9.2 åŒæ—¥å¿—ç³»ç»Ÿæ¶æ„

CSP2ä½¿ç”¨åŒæ—¥å¿—ç³»ç»Ÿï¼š

1. **åº”ç”¨æ—¥å¿— (DebugLogger)** - Debugæ§åˆ¶å°
   - æ˜¾ç¤ºåº”ç”¨ç¨‹åºæœ¬èº«çš„æ“ä½œæ—¥å¿—
   - åŒ…æ‹¬ï¼šç”¨æˆ·æ“ä½œã€æœåŠ¡è°ƒç”¨ã€çŠ¶æ€å˜åŒ–ã€é”™è¯¯å¼‚å¸¸
   - æ”¯æŒè¿‡æ»¤ï¼šDebug/Info/Warning/Error
   - æ”¯æŒå¯¼å‡ºåˆ°æ–‡ä»¶

2. **æœåŠ¡å™¨æ—¥å¿— (LogConsole)** - æ—¥å¿—æ§åˆ¶å°  
   - æ˜¾ç¤ºCS2æœåŠ¡å™¨è¿›ç¨‹çš„è¾“å‡º
   - å®æ—¶æ•è·æœåŠ¡å™¨stdout/stderr
   - æ”¯æŒå‘é€å‘½ä»¤åˆ°æœåŠ¡å™¨

### 9.3 DebugLoggerä½¿ç”¨ç¤ºä¾‹

```csharp
// åœ¨ä»»ä½•åœ°æ–¹è®°å½•è°ƒè¯•æ—¥å¿—
DebugLogger.Debug("Category", "è¯¦ç»†è°ƒè¯•ä¿¡æ¯");
DebugLogger.Info("Category", "é‡è¦ä¿¡æ¯");
DebugLogger.Warning("Category", "è­¦å‘Šä¿¡æ¯");
DebugLogger.Error("Category", "é”™è¯¯ä¿¡æ¯", exception);

// æ£€æŸ¥æ˜¯å¦ä¸ºDebugæ¨¡å¼
if (DebugLogger.IsDebugMode)
{
    // åªåœ¨Debugæ¨¡å¼ä¸‹æ‰§è¡Œçš„ä»£ç 
}
```

### 9.4 æ—¥å¿—çº§åˆ«ç­–ç•¥

| æ¨¡å¼ | Serilogçº§åˆ« | DebugLogger | ç”¨é€” |
|------|------------|-------------|------|
| Release | Information | ä»…InfoåŠä»¥ä¸Š | ç”Ÿäº§ç¯å¢ƒ |
| Debug | Debug | å…¨éƒ¨çº§åˆ« | å¼€å‘è°ƒè¯• |

### 9.5 æ—¥å¿—æ–‡ä»¶ä½ç½®

- **æ–‡ä»¶è·¯å¾„**: `<åº”ç”¨ç›®å½•>/logs/csp2-YYYY-MM-DD.log`
- **æ»šåŠ¨ç­–ç•¥**: æ¯å¤©ä¸€ä¸ªæ–°æ–‡ä»¶
- **ä¿ç•™ç­–ç•¥**: ä¿ç•™30å¤©
- **å¤§å°é™åˆ¶**: å•æ–‡ä»¶æœ€å¤§10MB

### 9.6 VS Codeè°ƒè¯•é…ç½®

é¡¹ç›®åŒ…å« `.vscode/launch.json` å’Œ `.vscode/tasks.json`:

```json
{
  "name": "CSP2 Desktop (Debug Mode)",
  "type": "coreclr",
  "request": "launch",
  "args": ["--debug"],
  "env": { "CSP2_DEBUG": "true" }
}
```

**ä½¿ç”¨æ­¥éª¤**:
1. åœ¨VS Codeä¸­æ‰“å¼€é¡¹ç›®
2. æŒ‰ F5 æˆ–é€‰æ‹©"è¿è¡Œå’Œè°ƒè¯•"
3. é€‰æ‹© "CSP2 Desktop (Debug Mode)"
4. åº”ç”¨å°†ä»¥Debugæ¨¡å¼å¯åŠ¨ï¼Œä¾§æ æ˜¾ç¤ºDebugæ§åˆ¶å°

---

## 10. ç»Ÿä¸€ä¸‹è½½ç®¡ç†ç³»ç»Ÿ

**æ›´æ–°æ—¶é—´**: 2025-10-25

CSP2å®ç°äº†ç»Ÿä¸€çš„ä¸‹è½½ç®¡ç†ç³»ç»Ÿï¼Œæ‰€æœ‰ä¸‹è½½ä»»åŠ¡ï¼ˆæœåŠ¡å™¨æ–‡ä»¶ã€æ’ä»¶ã€æ¡†æ¶ã€æ›´æ–°ç­‰ï¼‰éƒ½é€šè¿‡å…¨å±€ä¸‹è½½ç®¡ç†å™¨è¿›è¡Œç®¡ç†ã€‚

### 10.1 ä¸‹è½½ç®¡ç†æ¶æ„

```
ç”¨æˆ·æ“ä½œ (å®‰è£…æœåŠ¡å™¨/æ’ä»¶)
    â†“
åˆ›å»ºæœåŠ¡å™¨/æ’ä»¶é…ç½®
    â†“
æ·»åŠ åˆ°DownloadManager (åå°ä»»åŠ¡)
    â†“
ç«‹å³è¿”å›ä¸»é¡µé¢ (éé˜»å¡)
    â†“
åå°ä¸‹è½½è¿›è¡Œä¸­
    â†“
ç”¨æˆ·å¯åœ¨ä¸‹è½½ç®¡ç†é¡µé¢æŸ¥çœ‹è¿›åº¦
```

### 10.2 æ ¸å¿ƒç‰¹æ€§

1. **éé˜»å¡æ“ä½œ**
   - ç”¨æˆ·ç‚¹å‡»"å®‰è£…æœåŠ¡å™¨"åï¼Œç«‹å³è¿”å›æœåŠ¡å™¨åˆ—è¡¨
   - æœåŠ¡å™¨é…ç½®å·²åˆ›å»ºï¼Œæ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­
   - ä¸‹è½½ä»»åŠ¡åœ¨åå°é™é»˜è¿›è¡Œ

2. **ç»Ÿä¸€å…¥å£**
   - ä¾§è¾¹æ å¯¼èˆªï¼šä¸‹è½½ç®¡ç†é¡µé¢ï¼ˆå…¨å±æŸ¥çœ‹ï¼‰
   - ä¸‹è½½æ‚¬æµ®çƒï¼šåœ¨ä»»ä½•é¡µé¢æ˜¾ç¤ºï¼Œç‚¹å‡»è·³è½¬åˆ°ä¸‹è½½ç®¡ç†
   - å®æ—¶å¾½ç« ï¼šæ˜¾ç¤ºå½“å‰æ´»åŠ¨ä¸‹è½½æ•°é‡

3. **å¤šä»»åŠ¡å¹¶è¡Œ**
   - æ”¯æŒåŒæ—¶ä¸‹è½½å¤šä¸ªä»»åŠ¡
   - æ¯ä¸ªä»»åŠ¡ç‹¬ç«‹è¿›åº¦è¿½è¸ª
   - æ”¯æŒæš‚åœã€å–æ¶ˆã€ç§»é™¤æ“ä½œ

### 10.3 ä¸‹è½½ç®¡ç†é¡µé¢åŠŸèƒ½

**ä½ç½®**: ä¸»çª—å£ â†’ ä¸‹è½½ç®¡ç†ï¼ˆä¾§è¾¹æ ï¼‰

**æ˜¾ç¤ºå†…å®¹**:
- ä»»åŠ¡åç§°å’Œæè¿°
- å®æ—¶è¿›åº¦æ¡ï¼ˆç™¾åˆ†æ¯”ï¼‰
- ä»»åŠ¡çŠ¶æ€ï¼ˆç­‰å¾…/ä¸‹è½½ä¸­/å®Œæˆ/å¤±è´¥/å·²å–æ¶ˆï¼‰
- åˆ›å»ºæ—¶é—´
- æ“ä½œæŒ‰é’®ï¼ˆå–æ¶ˆã€ç§»é™¤ï¼‰

**çŠ¶æ€è¯´æ˜**:
- **ç­‰å¾…ä¸­** (â³): ä»»åŠ¡å·²åˆ›å»ºï¼Œç­‰å¾…å¼€å§‹
- **ä¸‹è½½ä¸­** (â¬‡ï¸): æ­£åœ¨ä¸‹è½½ï¼Œæ˜¾ç¤ºå®æ—¶è¿›åº¦
- **å®Œæˆ** (âœ…): ä¸‹è½½æˆåŠŸå®Œæˆ
- **å¤±è´¥** (âŒ): ä¸‹è½½å‡ºé”™ï¼Œå¯æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
- **æš‚åœ** (â¸ï¸): ä»»åŠ¡å·²æš‚åœï¼ˆæœªæ¥æ”¯æŒï¼‰
- **å·²å–æ¶ˆ** (ğŸš«): ç”¨æˆ·å–æ¶ˆä¸‹è½½

### 10.4 ä¸‹è½½æ‚¬æµ®çƒ

**ä½ç½®**: ä¸»çª—å£å³ä¸‹è§’ï¼ˆçŠ¶æ€æ ä¸Šæ–¹ï¼‰

**æ˜¾ç¤ºé€»è¾‘**:
- æœ‰æ´»åŠ¨ä¸‹è½½æ—¶è‡ªåŠ¨æ˜¾ç¤º
- æ— ä¸‹è½½ä»»åŠ¡æ—¶è‡ªåŠ¨éšè—

**æ˜¾ç¤ºå†…å®¹**:
- ä¸‹è½½å›¾æ ‡ (â¬‡ï¸)
- æ´»åŠ¨ä¸‹è½½ä»»åŠ¡æ•°é‡å¾½ç« 
- å‘å…‰åŠ¨æ•ˆæç¤º

**äº¤äº’**:
- ç‚¹å‡»ï¼šå¯¼èˆªåˆ°ä¸‹è½½ç®¡ç†é¡µé¢
- æ‚¬åœï¼šæ”¾å¤§æ•ˆæœ

### 10.5 æœåŠ¡å™¨å®‰è£…æµç¨‹æ”¹è¿›

**æ—§æµç¨‹**ï¼ˆé˜»å¡ï¼‰:
```
æ­¥éª¤1: é€‰æ‹©æ–¹å¼ â†’ æ­¥éª¤2: å¡«å†™ä¿¡æ¯ â†’ æ­¥éª¤3: ç­‰å¾…ä¸‹è½½å®Œæˆ â†’ è¿”å›ä¸»é¡µ
                                        â†‘ ç”¨æˆ·è¢«å¡åœ¨è¿™é‡Œ
```

**æ–°æµç¨‹**ï¼ˆéé˜»å¡ï¼‰:
```
æ­¥éª¤1: é€‰æ‹©æ–¹å¼ â†’ æ­¥éª¤2: å¡«å†™ä¿¡æ¯ â†’ ç«‹å³è¿”å›ä¸»é¡µ âœ“
                                  â†“
                            åå°ä¸‹è½½ï¼ˆå¼‚æ­¥ï¼‰
                                  â†“
                         ä¸‹è½½ç®¡ç†é¡µé¢æ˜¾ç¤ºè¿›åº¦
```

**ä¼˜åŠ¿**:
- âœ… ç”¨æˆ·ä½“éªŒæµç•…ï¼Œæ— éœ€ç­‰å¾…
- âœ… å¯ä»¥ç»§ç»­å…¶ä»–æ“ä½œï¼ˆæŸ¥çœ‹æ—¥å¿—ã€ç®¡ç†æ’ä»¶ç­‰ï¼‰
- âœ… æ”¯æŒæ‰¹é‡å®‰è£…ï¼ˆå¤šä¸ªæœåŠ¡å™¨åŒæ—¶ä¸‹è½½ï¼‰
- âœ… ç»Ÿä¸€çš„è¿›åº¦ç›‘æ§ç•Œé¢

### 10.6 å®ç°ç»†èŠ‚

**åå°ä»»åŠ¡ç®¡ç†**:
```csharp
// æœåŠ¡å™¨å®‰è£…æµç¨‹
var server = await _serverManager.AddServerWithoutValidationAsync(name, path, config);
_onInstallComplete?.Invoke(server); // ç«‹å³è¿”å›ä¸»é¡µ

// åå°ä¸‹è½½ä»»åŠ¡
_ = Task.Run(async () =>
{
    await _steamCmdService.InstallOrUpdateServerAsync(path, false, null);
    // DownloadManagerä¼šè‡ªåŠ¨ç®¡ç†ä»»åŠ¡çŠ¶æ€
});
```

**äº‹ä»¶åŒæ­¥**:
- `DownloadManager.TaskAdded`: æ–°ä»»åŠ¡æ·»åŠ æ—¶æ›´æ–°UI
- `DownloadManager.TaskUpdated`: è¿›åº¦æ›´æ–°æ—¶åˆ·æ–°UI
- `DownloadManager.TaskCompleted`: ä»»åŠ¡å®Œæˆæ—¶é€šçŸ¥ç”¨æˆ·
- `DownloadManager.TaskFailed`: ä»»åŠ¡å¤±è´¥æ—¶æ˜¾ç¤ºé”™è¯¯

**SteamCMD è¿›åº¦è§£æ** (2025-10-25æ›´æ–°):

æ ¹æ® [SteamCMD å®˜æ–¹æ–‡æ¡£](https://developer.valvesoftware.com/wiki/Zh/SteamCMD)ï¼ŒSteamCMD è¾“å‡ºä»¥ä¸‹æ ¼å¼çš„è¿›åº¦ä¿¡æ¯ï¼š

```
Update state (0x61) downloading, progress: 12.34 (1234567890 / 10000000000)
Update state (0x81) verifying, progress: 56.78 (...)
Success! App '730' fully installed.
```

CSP2 å®ç°äº†ç²¾ç¡®çš„è¿›åº¦è§£æï¼š

1. **ç²¾ç¡®è¿›åº¦æå–**: ä» `progress: X.XX` ä¸­æå–ç™¾åˆ†æ¯”
2. **çŠ¶æ€è¯†åˆ«**: 
   - `downloading` â†’ æ­£åœ¨ä¸‹è½½ CS2 æœåŠ¡å™¨æ–‡ä»¶
   - `verifying` â†’ æ­£åœ¨éªŒè¯æ–‡ä»¶å®Œæ•´æ€§
   - `preallocating` â†’ æ­£åœ¨é¢„åˆ†é…ç£ç›˜ç©ºé—´
   - `validating` â†’ æ­£åœ¨éªŒè¯ç°æœ‰æ–‡ä»¶
3. **è¿›åº¦æ˜ å°„**: å°†0-100%æ˜ å°„åˆ°30-100%ï¼ˆå‰30%ä¸ºSteamCMDå®‰è£…ï¼‰
4. **èŠ‚æµä¼˜åŒ–**: é™åˆ¶æ›´æ–°é¢‘ç‡ä¸º500msï¼Œé¿å…UIåˆ·æ–°è¿‡å¿«
5. **å¤‡ç”¨èŠ‚ç‚¹**: è‡ªåŠ¨åˆ‡æ¢åˆ°ä¸­å›½å†…åœ°èŠ‚ç‚¹ï¼ˆ`media.st.dl.bscstorage.net`ï¼‰

**ç¤ºä¾‹è¾“å‡ºè§£æ**:
```csharp
// è¾“å…¥: "Update state (0x61) downloading, progress: 45.67 (12345678 / 27890123)"
// è§£æ: è¿›åº¦ = 45.67%
// æ˜ å°„: 30 + (45.67 * 0.7) = 61.97%
// æ¶ˆæ¯: "æ­£åœ¨ä¸‹è½½ CS2 æœåŠ¡å™¨æ–‡ä»¶... 45.67%"
```

### 10.7 ç”¨æˆ·ä½¿ç”¨æŒ‡å—

**å®‰è£…æœåŠ¡å™¨**:
1. ç‚¹å‡»"å®‰è£…æœåŠ¡å™¨"
2. é€‰æ‹©ä¸‹è½½æ–¹å¼ï¼ˆSteamCMDæˆ–ç°æœ‰å®‰è£…ï¼‰
3. å¡«å†™æœåŠ¡å™¨åç§°å’Œé…ç½®
4. ç‚¹å‡»"ç¡®è®¤æ·»åŠ "
5. ç«‹å³è¿”å›æœåŠ¡å™¨åˆ—è¡¨ï¼ˆæœåŠ¡å™¨å·²æ·»åŠ ï¼‰
6. ç‚¹å‡»æ‚¬æµ®çƒæˆ–ä¾§è¾¹æ "ä¸‹è½½ç®¡ç†"æŸ¥çœ‹ä¸‹è½½è¿›åº¦
7. ä¸‹è½½å®Œæˆåï¼ŒæœåŠ¡å™¨å³å¯å¯åŠ¨

**ç›‘æ§ä¸‹è½½è¿›åº¦**:
- æ–¹å¼1: ç‚¹å‡»å³ä¸‹è§’æ‚¬æµ®çƒï¼ˆæœ‰ä¸‹è½½æ—¶æ˜¾ç¤ºï¼‰
- æ–¹å¼2: ä¾§è¾¹æ  â†’ ä¸‹è½½ç®¡ç†
- æ–¹å¼3: æ‚¬æµ®çƒå¾½ç« æ˜¾ç¤ºæ´»åŠ¨ä»»åŠ¡æ•°é‡

**ç®¡ç†ä¸‹è½½ä»»åŠ¡**:
- æŸ¥çœ‹æ‰€æœ‰ä¸‹è½½ä»»åŠ¡ï¼ˆæ´»åŠ¨å’Œå†å²ï¼‰
- å–æ¶ˆæ­£åœ¨è¿›è¡Œçš„ä¸‹è½½
- ç§»é™¤å·²å®Œæˆæˆ–å¤±è´¥çš„ä»»åŠ¡
- ä¸€é”®æ¸…ç©ºæ‰€æœ‰å·²å®Œæˆä»»åŠ¡

---

## 11. å›½é™…åŒ– (i18n) æ”¯æŒ

**æ›´æ–°æ—¶é—´**: 2025-10-25

CSP2 ç°å·²å…¨é¢æ”¯æŒå›½é™…åŒ–ï¼Œå½“å‰æ”¯æŒç®€ä½“ä¸­æ–‡å’Œè‹±æ–‡ä¸¤ç§è¯­è¨€ã€‚

### 11.1 æ¶æ„è®¾è®¡

- **èµ„æºæ–‡ä»¶ç³»ç»Ÿ**: ä½¿ç”¨ .NET çš„ .resx èµ„æºæ–‡ä»¶ç®¡ç†ç¿»è¯‘
- **LocalizationService**: ç®¡ç†è¯­è¨€åˆ‡æ¢å’Œæ–‡åŒ–è®¾ç½®
- **LocalizationHelper**: æä¾› XAML ç»‘å®šæ”¯æŒ
- **åŠ¨æ€åˆ‡æ¢**: ç”¨æˆ·å¯åœ¨è¿è¡Œæ—¶åˆ‡æ¢è¯­è¨€ï¼Œæ— éœ€é‡å¯

### 11.2 ä½¿ç”¨æ–¹æ³•

**åœ¨ C# ä»£ç ä¸­**:
```csharp
using CSP2.Desktop.Resources;

// ç›´æ¥è®¿é—®
string title = Strings.App_Title;

// æ ¼å¼åŒ–å­—ç¬¦ä¸²
string msg = string.Format(Strings.Download_Completed, taskName);
```

**åœ¨ XAML ä¸­**:
```xaml
<Window.Resources>
    <helpers:LocalizationHelper x:Key="Loc"/>
</Window.Resources>

<TextBlock Text="{Binding Source={StaticResource Loc}, Path=App_Title}"/>
```

**åˆ‡æ¢è¯­è¨€**:
ç”¨æˆ·å¯åœ¨"è®¾ç½®"é¡µé¢çš„"å¤–è§‚"éƒ¨åˆ†åˆ‡æ¢è¯­è¨€ã€‚

### 11.3 æ·»åŠ æ–°è¯­è¨€

1. åˆ›å»ºæ–°çš„èµ„æºæ–‡ä»¶ `Strings.[è¯­è¨€ä»£ç ].resx`
2. æ›´æ–° `LocalizationService.GetSupportedLanguages()`
3. ç¿»è¯‘æ‰€æœ‰å­—ç¬¦ä¸²

è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ `05-i18nå›½é™…åŒ–ä½¿ç”¨æŒ‡å—.md`ã€‚

---

## 12. æœåŠ¡å™¨å¯åŠ¨å‚æ•°é…ç½®ç³»ç»Ÿ

**æ›´æ–°æ—¶é—´**: 2025-10-26

CSP2 æä¾›äº†å®Œå–„çš„æœåŠ¡å™¨å¯åŠ¨å‚æ•°é…ç½®ç³»ç»Ÿï¼Œé€šè¿‡å‹å¥½çš„UIç•Œé¢è®©ç”¨æˆ·è½»æ¾é…ç½®å„ç§æœåŠ¡å™¨å¯åŠ¨é€‰é¡¹ã€‚

### 12.1 é…ç½®åˆ†ç±»

æœåŠ¡å™¨é…ç½®æŒ‰åŠŸèƒ½åˆ†ä¸ºä¸‰å¤§ç±»ï¼Œä½¿ç”¨Tabé¡µç­¾ç»„ç»‡ï¼š

#### **Tab 1: åŸºæœ¬é…ç½®**
- **ç½‘ç»œé…ç½®**: IPåœ°å€ã€ç«¯å£
- **æ¸¸æˆé…ç½®**: åˆå§‹åœ°å›¾ã€æœ€å¤§ç©å®¶æ•°ã€Tick Rateã€åœ°å›¾ç»„

#### **Tab 2: æœåŠ¡å™¨èº«ä»½**
- **æ˜¾ç¤ºä¿¡æ¯**: æœåŠ¡å™¨åœ¨æµè§ˆå™¨ä¸­çš„æ˜¾ç¤ºåç§°
- **è®¤è¯ä¿¡æ¯**: Steam Tokenï¼ˆå…¬å¼€æœåŠ¡å™¨å¿…éœ€ï¼‰
- **å®‰å…¨ä¿¡æ¯**: æœåŠ¡å™¨å¯†ç ã€RCONå¯†ç 

#### **Tab 3: é«˜çº§é€‰é¡¹**
- **ç½‘ç»œé€‰é¡¹**: å±€åŸŸç½‘æ¨¡å¼ã€ç¦ç”¨VAC
- **æ€§èƒ½é€‰é¡¹**: è¿›ç¨‹ä¼˜å…ˆçº§ã€æœ€å¤§FPSã€çº¿ç¨‹æ•°ã€ç¦ç”¨HLTVã€å¯ç”¨æ§åˆ¶å°
- **æ¸¸æˆè§„åˆ™**: BOTæ•°é‡ã€BOTéš¾åº¦ã€è¸¢å‡ºé—²ç½®æ—¶é—´ã€å¯ç”¨ä½œå¼Š
- **æ—¥å¿—é€‰é¡¹**: å¯ç”¨æ—¥å¿—ã€æ§åˆ¶å°æ—¥å¿—å†™å…¥æ–‡ä»¶ã€æ—¥å¿—å›æ˜¾

### 12.2 å¯åŠ¨å‚æ•°è¯´æ˜

| å‚æ•°ç±»åˆ« | å‚æ•°åç§° | è¯´æ˜ | é»˜è®¤å€¼ |
|---------|---------|------|--------|
| **åŸºç¡€é…ç½®** |
| | IPåœ°å€ | æœåŠ¡å™¨ç»‘å®šçš„IPåœ°å€ | 0.0.0.0 (æ‰€æœ‰ç½‘å¡) |
| | ç«¯å£ | æœåŠ¡å™¨ç›‘å¬ç«¯å£ | 27015 |
| | åˆå§‹åœ°å›¾ | æœåŠ¡å™¨å¯åŠ¨æ—¶åŠ è½½çš„åœ°å›¾ | de_dust2 |
| | åœ°å›¾ç»„ | åœ°å›¾è½®æ¢ç»„ | mg_active |
| | æœ€å¤§ç©å®¶æ•° | æœåŠ¡å™¨å…è®¸çš„æœ€å¤§ç©å®¶æ•° | 10 |
| | Tick Rate | æœåŠ¡å™¨åˆ·æ–°ç‡(64/128) | 128 |
| **æœåŠ¡å™¨èº«ä»½** |
| | æœåŠ¡å™¨åç§° | åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„åç§° | (å¯é€‰) |
| | Steam Token | å…¬å¼€æœåŠ¡å™¨ä»¤ç‰Œ | (å¯é€‰) |
| | æœåŠ¡å™¨å¯†ç  | è¿›å…¥æœåŠ¡å™¨çš„å¯†ç  | (å¯é€‰) |
| | RCONå¯†ç  | è¿œç¨‹ç®¡ç†å¯†ç  | (å¯é€‰) |
| **ç½‘ç»œè®¾ç½®** |
| | å±€åŸŸç½‘æ¨¡å¼ | æ˜¯å¦ä¸ºå±€åŸŸç½‘æœåŠ¡å™¨ | å¦ |
| | ç¦ç”¨VAC | ç¦ç”¨åå¤–æŒ‚ç³»ç»Ÿ | å¦ |
| **æ€§èƒ½ä¼˜åŒ–** |
| | è¿›ç¨‹ä¼˜å…ˆçº§ | CPUä¼˜å…ˆçº§(ä½/æ™®é€š/é«˜) | æ™®é€š |
| | æœ€å¤§FPS | æœåŠ¡å™¨æœ€å¤§å¸§ç‡ | (æ— é™åˆ¶) |
| | çº¿ç¨‹æ•° | å·¥ä½œçº¿ç¨‹æ•° | (è‡ªåŠ¨) |
| | ç¦ç”¨HLTV | ç¦ç”¨è§‚æˆ˜ç³»ç»Ÿ | å¦ |
| | å¯ç”¨æ§åˆ¶å° | æ˜¾ç¤ºæ§åˆ¶å°çª—å£ | æ˜¯ |
| **æ¸¸æˆè§„åˆ™** |
| | BOTæ•°é‡ | AIæœºå™¨äººæ•°é‡ | 0 |
| | BOTéš¾åº¦ | æœºå™¨äººéš¾åº¦(0-3) | 2 (å›°éš¾) |
| | è¸¢å‡ºé—²ç½®æ—¶é—´ | è‡ªåŠ¨è¸¢å‡ºé—²ç½®ç©å®¶çš„æ—¶é—´ | (ä¸è¸¢å‡º) |
| | å¯ç”¨ä½œå¼Š | å…è®¸ä½œå¼Šå‘½ä»¤ | å¦ |
| **æ—¥å¿—è®¾ç½®** |
| | å¯ç”¨æ—¥å¿— | è®°å½•æœåŠ¡å™¨æ—¥å¿— | æ˜¯ |
| | æ§åˆ¶å°æ—¥å¿—å†™å…¥ | æ§åˆ¶å°è¾“å‡ºä¿å­˜åˆ°æ–‡ä»¶ | å¦ |
| | æ—¥å¿—å›æ˜¾ | åœ¨æ§åˆ¶å°æ˜¾ç¤ºæ—¥å¿— | æ˜¯ |

### 12.3 ç”¨æˆ·ä½“éªŒæ”¹è¿›

1. **åˆ†ç±»å±•ç¤º**: ä½¿ç”¨Tabé¡µç­¾å°†é…ç½®é¡¹æŒ‰ç±»åˆ«ç»„ç»‡ï¼Œé¿å…ç•Œé¢æ‚ä¹±
2. **å·¥å…·æç¤º**: æ¯ä¸ªé…ç½®é¡¹éƒ½æœ‰è¯¦ç»†çš„Tooltipè¯´æ˜
3. **é»˜è®¤å€¼**: æ‰€æœ‰é…ç½®é¡¹éƒ½æœ‰åˆç†çš„é»˜è®¤å€¼ï¼Œæ–°æ‰‹ç”¨æˆ·å¯ç›´æ¥ä½¿ç”¨
4. **è¾“å…¥éªŒè¯**: å¯¹å…³é”®å‚æ•°è¿›è¡Œå®æ—¶éªŒè¯ï¼Œé˜²æ­¢é”™è¯¯é…ç½®
5. **å¯é€‰å‚æ•°**: é«˜çº§é€‰é¡¹æ ‡è®°ä¸ºå¯é€‰ï¼Œç•™ç©ºæ—¶ä¸ä¼šç”Ÿæˆå¯¹åº”çš„å¯åŠ¨å‚æ•°

### 12.4 å›½é™…åŒ–æ”¯æŒ

æ‰€æœ‰é…ç½®é¡¹çš„æ ‡ç­¾ã€æç¤ºä¿¡æ¯éƒ½å®Œå…¨æ”¯æŒå›½é™…åŒ–ï¼š
- **ä¸­æ–‡**: å®Œæ•´çš„ä¸­æ–‡ç•Œé¢å’Œè¯´æ˜
- **è‹±æ–‡**: å®Œæ•´çš„è‹±æ–‡ç•Œé¢å’Œè¯´æ˜
- ç”¨æˆ·å¯åœ¨è®¾ç½®ä¸­ä¸€é”®åˆ‡æ¢è¯­è¨€

### 12.5 æ‰©å±•æ€§

é…ç½®ç³»ç»Ÿè®¾è®¡è€ƒè™‘äº†æœªæ¥çš„æ‰©å±•éœ€æ±‚ï¼š
- **CustomArgs**: æ”¯æŒæ·»åŠ ä»»æ„è‡ªå®šä¹‰å¯åŠ¨å‚æ•°
- **Provideræœºåˆ¶**: ä¸åŒå¹³å°å¯ä»¥æ‰©å±•ç‰¹å®šçš„å¯åŠ¨å‚æ•°
- **é…ç½®æ¨¡æ¿**: æœªæ¥å¯æ”¯æŒä¿å­˜å’ŒåŠ è½½é…ç½®æ¨¡æ¿

---

## 13. ä¸‹ä¸€æ­¥

é˜…è¯»å®Œæœ¬æ–‡æ¡£åï¼Œè¯·æŸ¥çœ‹ï¼š
- `02-é¡¹ç›®ç»“æ„è¯´æ˜.md` - äº†è§£ä»£ç ç»„ç»‡æ–¹å¼
- `03-å¼€å‘è·¯çº¿å›¾.md` - äº†è§£å¼€å‘è®¡åˆ’
- `04-WPFå¿«é€Ÿå…¥é—¨.md` - å­¦ä¹ WPFåŸºç¡€çŸ¥è¯†
- `05-i18nå›½é™…åŒ–ä½¿ç”¨æŒ‡å—.md` - äº†è§£å¦‚ä½•ä½¿ç”¨å›½é™…åŒ–åŠŸèƒ½

---

**æ–‡æ¡£ç»“æŸ**

